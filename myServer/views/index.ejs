<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSP Testing</title>
  <!-- FIX: Tell the browser there is no favicon to prevent 404 and CSP errors -->
  <link rel="icon" href="data:,">
  <script src="/lib/inline-handler.js" nonce="<%= nonce %>" data-nonce="<%= nonce %>" data-csp="<%= csp %>"></script>
  
  <style nonce="<%= nonce %>">
    .content-section {
      padding: 20px;
      margin: 10px;
      border: 1px solid #ccc;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    .video-container {
      position: relative;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      height: 0;
      overflow: hidden;
      max-width: 100%;
      background: #000;
    }
    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  </style>

</head>

<body>

  <div class="content-section">
    <h2>Dynamic Widget Demonstration</h2>
    <p>This Disqus comment widget is highly complex and loads a wide variety of dynamic resources from many third-party domains, providing a robust test for our CSP generation system.</p>
    
    <div id="disqus_thread"></div>

  </div>

  <script nonce="<%= nonce %>">
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: Edit and uncomment the section below to configure DUMMY variables.
    *  THIS IS NOT REQUIRED FOR THE DEMO TO WORK, but is good practice.
    *  See https://disqus.com/admin/universalcode/#configuration-variables for more info.
    */
    /*
    var disqus_config = function () {
      this.page.url = "http://localhost:5000";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "CSP_DEMO_PAGE_1"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    
    // --- DO NOT EDIT BELOW THIS LINE ---
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://dynamic-csp-gen.disqus.com/embed.js'; // <-- IMPORTANT: REPLACE WITH YOUR SHORTNAME
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</body>

</html>